(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-components-invitation-vue"],{"0c84":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAQAAAACj/OVAAAEyUlEQVRYw7WZf0hdZRjHP95dXaUzdbnc0OXc1VWk0EYUJsL6QcPMwUYRBLaIEYO1NVv0g9o0FhVUbPOPWPRH4YotKTZoUNGihAw2V9EPhr+mds100/krsTQ9/XHe+/qee895z3vu5nP/Ofec7/N833ve53ne53luCqayhNuppJRiCsgiE5hgjChd/EILPzHHVZNUHuIYo1iazyjHqCH1ysly2MeQlkr9DFFPjt5giubZtbzAHpY57o3QQQcTTJFCOpmUUBJHMclBXmc6+G+r4oKy9n/4lO2sdUUW8xQnmVHQF6gORraUw8wr6jv9XhSwnN10K6SNLDWlW8UZqTbANsLGCw3zpLLjZ1llorSOXqEwxyEyA29FFu/Kt/MHN/vBSxgU4Ivcl7RvVzEsrAyyTgfMJyqAv3HTFYXTWtqFpSj5XqA0uXdnDZzET1bws7DWRpo75JAAdJKrNZVNBVvZSgXLtbhcOoXFw26PHxRbPcxqTxMhHqNVCRiLNmo1XhxhROAS4jJD7N48VZ7qN/Kta0I7R6GnTrVYXpQM54NXZbh6v6AOTQ69xVPvPYE54NyVCRHm3nH3RRzJv45v7VznmYEuYmExQfbCzf1C7QlPui2K8e+5lzBQyBv8J+++4qm7QyD2L5x39hp6NNv/jTT8pQP1uLzfq8nM/eLFi/OyRqg87alyg/wl0wk+fE5S3uqp/5xA1NhfPxF74h3sFdLo0YRn78hnD3jq5zGLhUUzhEhlEwCnuKw5imPymUutk4iKl0FOA7CJNCgX69umrQt2coIT7E3Y5TB98heWaSzsEphyqBOXa5LKmG9KuighDa5UoOrgiKi6kpHXlGDZ41M72ZF+BFqwsPghMFkKBxW6Vt8S0T6JWhB78FFgwrcVul6DYqIZC4u+EFkAjAWke5k6eR1lIwO+GsN2Eg2J7DkRiK6SBnndz0Z6DHRshmWhpJzlgPTIIe6hO4DmTIhJAK4PVDxUiKsp7qfTUMtmmAyJgMgOQLheNghv8auxVm6MsA+AogCEK5UzxFwitoOFOA/gX7Aqco3S2phKiBIAzodpByCTCF2Gyt00S5cxlTKxzI6F5L2dxZRYxr4b0pjEwuLzRSX8GguLSbujspPOLCsWjS6fuYUDGJrEyVZrqF7Ih/zJAE2aetQptSJRNMWKqEtYWPR79QAOKVI6wBHh7H7t7YDox+SJUi8M7DBQb3bUoycNNHYLbL06q7Ad55JPe2KnM5VwWjuWsBuEUeEwOc50bBt435fQWXHPKkWUuxx1K/UhQxSrFg/7GPjKQeiX3B4RuP74ZgaqxaMxirUmNjCt9Bd3arGljHu1awCN/k0yAHfRyjzztFKOWQPf6NVytwnA78qJ4C7ppPsgCmR71+Ydbitlk9wd6PxIlNtkgdypL7Aicmwyzpak6R4VYWYx6J8aIsoA6wOf8YL7W/pY6ncbZSLylNHXZXZ59rZuTc+zylz1DHnmw71GRwf/kmayEZPV7OOv5IZ7sbhUx5dznGYvG1zySpg7eJ7vHMOUHu/xpX5A+yLPxA1oZ+iii3GmgAwyKaEozumTHtDG0npDoBF0w1UYmpHKZo77DtmPs9lkyJ5iTLuE9VRSRoQCckhnlr8ZZVD8jfCj6d8I/wOPwLElc7fh5gAAAABJRU5ErkJggg=="},"8b52":function(t,a,n){"use strict";var i=n("e71d"),e=n.n(i);e.a},9534:function(t,a,n){"use strict";n.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"balance_wp"},[i("div",{staticClass:"invi_wrap"},[t.isUnlocked?t._e():i("div",[i("p",[t._v("请先解锁邀请系统")]),i("button",{attrs:{type:""},on:{click:t.validatePin}},[t._v("花费"+t._s(t.value)+"ETH解锁邀请系统")])]),t.isUnlocked?i("div",{staticClass:"unlocked"},[i("p",[t._v("您的邀请码")]),i("span",[t._v(t._s(t.$store.state.playerInfo.pid))])]):t._e(),i("div",{staticClass:"rule"},[i("img",{attrs:{src:n("0c84"),alt:""},on:{click:t.changeTipsStatus}}),i("span",[t._v("邀请系统规则")])])]),i("TabList",{attrs:{list:t.swichList}}),i("router-view")],1)},e=[],s=(n("6b54"),n("7f7f"),n("62f1")),o=n("dbd9"),c=n.n(o),r=n("8a1f"),u=n("76a0"),l=n("9154"),g={name:"invitation",components:{TabList:s["default"]},data:function(){return{swichList:[{name:"当前轮次",to:"/main/invitation/turn"},{name:"投资总计",to:"/main/invitation/total"}],value:.01,txParams:{gasPrice:0,nonce:0,gasLimit:3e6},loading:!1}},watch:{loading:function(t){l["a"].$emit("loading",t)}},computed:{isUnlocked:function(){return this.$store.state.playerInfo.name>0}},methods:{changeTipsStatus:function(){l["a"].$emit("tipsChange",{index:1,status:!0})},validatePin:function(){var t=this;Object(r["c"])("钱包ETH",this.value,this.balance)&&u["MessageBox"].prompt("请输入钱包PIN码","PIN码",{inputType:"password"}).then(function(a){var n=a.value;a.action;if(Object(r["a"])("PIN码",n)){t.loading=!0;var i=t.decrypt(localStorage.getItem("newPrivateKey"),n);if(""===i)return t.loading=!1,void t.$message({message:"PIN码错误",duration:1500});t.unlock(i)}},function(){})},unlock:function(t){var a=this,n=Date.parse(new Date).toString(16),i=localStorage.getItem("invitationId");this.getGasPriceAndNonce().then(function(e){a.txParams.gasPrice=e[0],a.txParams.nonce=e[1];var s={from:a.address,nonce:"0x".concat(a.txParams.nonce.toString(16)),gasPrice:"0x".concat(a.txParams.gasPrice.toString(16)),gasLimit:"0x".concat(a.txParams.gasLimit.toString(16)),to:a.contractAddress,value:"0x".concat((1e18*a.value).toString(16)),data:a.contract.registerNameXID.getData(n,i,!0,{from:a.address})},o=new c.a(s);o.sign(keythereum.str2buf(t));var r="0x".concat(o.serialize().toString("hex"));return new Promise(function(t,n){a.web3.eth.sendRawTransaction(r,function(n,i){n||(a.loading=!1,a.$message({message:"解锁成功",duration:1500}),t(i))})})}).then(function(){a.$store.dispatch("getPlayerInfo")})}}},d=g,m=(n("8b52"),n("2877")),p=Object(m["a"])(d,i,e,!1,null,null,null);p.options.__file="invitation.vue";a["default"]=p.exports},e71d:function(t,a,n){}}]);
//# sourceMappingURL=view-components-invitation-vue.6e7a7b21.js.map